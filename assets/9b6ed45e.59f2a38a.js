import{o as G,G as J,s as I,P as K,A as Q}from"./index.5e0a5859.js";function X(t,o){for(var n=0;n<o.length;n++){const e=o[n];if(typeof e!="string"&&!Array.isArray(e)){for(const i in e)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(e,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>e[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var z={exports:{}};/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bézier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bézier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function T(t,o,n){this.x=t,this.y=o,this.time=n||new Date().getTime()}T.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1};T.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))};T.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time};function U(t,o,n,e){this.startPoint=t,this.control1=o,this.control2=n,this.endPoint=e}U.prototype.length=function(){for(var t=10,o=0,n=void 0,e=void 0,i=0;i<=t;i+=1){var s=i/t,a=this._point(s,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),h=this._point(s,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){var l=a-n,r=h-e;o+=Math.sqrt(l*l+r*r)}n=a,e=h}return o};U.prototype._point=function(t,o,n,e,i){return o*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*e*(1-t)*t*t+i*t*t*t};function Y(t,o,n){var e,i,s,a=null,h=0;n||(n={});var l=function(){h=n.leading===!1?0:Date.now(),a=null,s=t.apply(e,i),a||(e=i=null)};return function(){var r=Date.now();!h&&n.leading===!1&&(h=r);var c=o-(r-h);return e=this,i=arguments,c<=0||c>o?(a&&(clearTimeout(a),a=null),h=r,s=t.apply(e,i),a||(e=i=null)):!a&&n.trailing!==!1&&(a=setTimeout(l,c)),s}}function _(t,o){var n=this,e=o||{};this.velocityFilterWeight=e.velocityFilterWeight||.7,this.minWidth=e.minWidth||.5,this.maxWidth=e.maxWidth||2.5,this.throttle="throttle"in e?e.throttle:16,this.minDistance="minDistance"in e?e.minDistance:5,this.throttle?this._strokeMoveUpdate=Y(_.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=_.prototype._strokeUpdate,this.dotSize=e.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=e.penColor||"black",this.backgroundColor=e.backgroundColor||"rgba(0,0,0,0)",this.onBegin=e.onBegin,this.onEnd=e.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(i){i.which===1&&(n._mouseButtonDown=!0,n._strokeBegin(i))},this._handleMouseMove=function(i){n._mouseButtonDown&&n._strokeMoveUpdate(i)},this._handleMouseUp=function(i){i.which===1&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(i))},this._handleTouchStart=function(i){if(i.targetTouches.length===1){var s=i.changedTouches[0];n._strokeBegin(s)}},this._handleTouchMove=function(i){i.preventDefault();var s=i.targetTouches[0];n._strokeMoveUpdate(s)},this._handleTouchEnd=function(i){var s=i.target===n._canvas;s&&(i.preventDefault(),n._strokeEnd(i))},this.on()}_.prototype.clear=function(){var t=this._ctx,o=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,o.width,o.height),t.fillRect(0,0,o.width,o.height),this._data=[],this._reset(),this._isEmpty=!0};_.prototype.fromDataURL=function(t){var o=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=new Image,i=n.ratio||window.devicePixelRatio||1,s=n.width||this._canvas.width/i,a=n.height||this._canvas.height/i;this._reset(),e.src=t,e.onload=function(){o._ctx.drawImage(e,0,0,s,a)},this._isEmpty=!1};_.prototype.toDataURL=function(t){var o;switch(t){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,e=Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];return(o=this._canvas).toDataURL.apply(o,[t].concat(e))}};_.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};_.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};_.prototype.isEmpty=function(){return this._isEmpty};_.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),typeof this.onBegin=="function"&&this.onBegin(t)};_.prototype._strokeUpdate=function(t){var o=t.clientX,n=t.clientY,e=this._createPoint(o,n),i=this._data[this._data.length-1],s=i&&i[i.length-1],a=s&&e.distanceTo(s)<this.minDistance;if(!(s&&a)){var h=this._addPoint(e),l=h.curve,r=h.widths;l&&r&&this._drawCurve(l,r.start,r.end),this._data[this._data.length-1].push({x:e.x,y:e.y,time:e.time,color:this.penColor})}};_.prototype._strokeEnd=function(t){var o=this.points.length>2,n=this.points[0];if(!o&&n&&this._drawDot(n),n){var e=this._data[this._data.length-1],i=e[e.length-1];n.equals(i)||e.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(t)};_.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};_.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};_.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};_.prototype._createPoint=function(t,o,n){var e=this._canvas.getBoundingClientRect();return new T(t-e.left,o-e.top,n||new Date().getTime())};_.prototype._addPoint=function(t){var o=this.points,n=void 0;if(o.push(t),o.length>2){o.length===3&&o.unshift(o[0]),n=this._calculateCurveControlPoints(o[0],o[1],o[2]);var e=n.c2;n=this._calculateCurveControlPoints(o[1],o[2],o[3]);var i=n.c1,s=new U(o[1],e,i,o[2]),a=this._calculateCurveWidths(s);return o.shift(),{curve:s,widths:a}}return{}};_.prototype._calculateCurveControlPoints=function(t,o,n){var e=t.x-o.x,i=t.y-o.y,s=o.x-n.x,a=o.y-n.y,h={x:(t.x+o.x)/2,y:(t.y+o.y)/2},l={x:(o.x+n.x)/2,y:(o.y+n.y)/2},r=Math.sqrt(e*e+i*i),c=Math.sqrt(s*s+a*a),f=h.x-l.x,v=h.y-l.y,g=c/(r+c),x={x:l.x+f*g,y:l.y+v*g},m=o.x-x.x,P=o.y-x.y;return{c1:new T(h.x+m,h.y+P),c2:new T(l.x+m,l.y+P)}};_.prototype._calculateCurveWidths=function(t){var o=t.startPoint,n=t.endPoint,e={start:null,end:null},i=this.velocityFilterWeight*n.velocityFrom(o)+(1-this.velocityFilterWeight)*this._lastVelocity,s=this._strokeWidth(i);return e.start=this._lastWidth,e.end=s,this._lastVelocity=i,this._lastWidth=s,e};_.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)};_.prototype._drawPoint=function(t,o,n){var e=this._ctx;e.moveTo(t,o),e.arc(t,o,n,0,2*Math.PI,!1),this._isEmpty=!1};_.prototype._drawCurve=function(t,o,n){var e=this._ctx,i=n-o,s=Math.floor(t.length());e.beginPath();for(var a=0;a<s;a+=1){var h=a/s,l=h*h,r=l*h,c=1-h,f=c*c,v=f*c,g=v*t.startPoint.x;g+=3*f*h*t.control1.x,g+=3*c*l*t.control2.x,g+=r*t.endPoint.x;var x=v*t.startPoint.y;x+=3*f*h*t.control1.y,x+=3*c*l*t.control2.y,x+=r*t.endPoint.y;var m=o+r*i;this._drawPoint(g,x,m)}e.closePath(),e.fill()};_.prototype._drawDot=function(t){var o=this._ctx,n=typeof this.dotSize=="function"?this.dotSize():this.dotSize;o.beginPath(),this._drawPoint(t.x,t.y,n),o.closePath(),o.fill()};_.prototype._fromData=function(t,o,n){for(var e=0;e<t.length;e+=1){var i=t[e];if(i.length>1)for(var s=0;s<i.length;s+=1){var a=i[s],h=new T(a.x,a.y,a.time),l=a.color;if(s===0)this.penColor=l,this._reset(),this._addPoint(h);else if(s!==i.length-1){var r=this._addPoint(h),c=r.curve,f=r.widths;c&&f&&o(c,f,l)}}else{this._reset();var v=i[0];n(v)}}};_.prototype._toSVG=function(){var t=this,o=this._data,n=this._canvas,e=Math.max(window.devicePixelRatio||1,1),i=0,s=0,a=n.width/e,h=n.height/e,l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttributeNS(null,"width",n.width),l.setAttributeNS(null,"height",n.height),this._fromData(o,function(p,D,C){var M=document.createElement("path");if(!isNaN(p.control1.x)&&!isNaN(p.control1.y)&&!isNaN(p.control2.x)&&!isNaN(p.control2.y)){var R="M "+p.startPoint.x.toFixed(3)+","+p.startPoint.y.toFixed(3)+" "+("C "+p.control1.x.toFixed(3)+","+p.control1.y.toFixed(3)+" ")+(p.control2.x.toFixed(3)+","+p.control2.y.toFixed(3)+" ")+(p.endPoint.x.toFixed(3)+","+p.endPoint.y.toFixed(3));M.setAttribute("d",R),M.setAttribute("stroke-width",(D.end*2.25).toFixed(3)),M.setAttribute("stroke",C),M.setAttribute("fill","none"),M.setAttribute("stroke-linecap","round"),l.appendChild(M)}},function(p){var D=document.createElement("circle"),C=typeof t.dotSize=="function"?t.dotSize():t.dotSize;D.setAttribute("r",C),D.setAttribute("cx",p.x),D.setAttribute("cy",p.y),D.setAttribute("fill",p.color),l.appendChild(D)});var r="data:image/svg+xml;base64,",c='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+i+" "+s+" "+a+" "+h+'"')+(' width="'+a+'"')+(' height="'+h+'"')+">",f=l.innerHTML;if(f===void 0){var v=document.createElement("dummy"),g=l.childNodes;v.innerHTML="";for(var x=0;x<g.length;x+=1)v.appendChild(g[x].cloneNode(!0));f=v.innerHTML}var m="</svg>",P=c+f+m;return r+btoa(P)};_.prototype.fromData=function(t){var o=this;this.clear(),this._fromData(t,function(n,e){return o._drawCurve(n,e.start,e.end)},function(n){return o._drawDot(n)}),this._data=t};_.prototype.toData=function(){return this._data};const Z=Object.freeze(Object.defineProperty({__proto__:null,default:_},Symbol.toStringTag,{value:"Module"})),$=Q(Z);var N={exports:{}},q;function tt(){return q||(q=1,function(t,o){(function(n,e){t.exports=e()})(I,function(){return function(n){function e(s){if(i[s])return i[s].exports;var a=i[s]={exports:{},id:s,loaded:!1};return n[s].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var i={};return e.m=n,e.c=i,e.p="",e(0)}([function(n,e){function i(r){var c=r.getContext("2d"),f=r.width,v=r.height,g=c.getImageData(0,0,f,v).data,x=h(!0,f,v,g),m=h(!1,f,v,g),P=l(!0,f,v,g),p=l(!1,f,v,g),D=p-P+1,C=m-x+1,M=c.getImageData(P,x,D,C);return r.width=D,r.height=C,c.clearRect(0,0,D,C),c.putImageData(M,0,0),r}function s(r,c,f,v){return{red:v[4*(f*c+r)],green:v[4*(f*c+r)+1],blue:v[4*(f*c+r)+2],alpha:v[4*(f*c+r)+3]}}function a(r,c,f,v){return s(r,c,f,v).alpha}function h(r,c,f,v){for(var g=r?1:-1,x=r?0:f-1,m=x;r?m<f:m>-1;m+=g)for(var P=0;P<c;P++)if(a(P,m,c,v))return m;return null}function l(r,c,f,v){for(var g=r?1:-1,x=r?0:c-1,m=x;r?m<c:m>-1;m+=g)for(var P=0;P<f;P++)if(a(m,P,c,v))return m;return null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i}])})}(N)),N.exports}(function(t,o){(function(n,e){t.exports=e(G.exports,J,$,tt())})(I,function(n,e,i,s){return function(a){function h(r){if(l[r])return l[r].exports;var c=l[r]={exports:{},id:r,loaded:!1};return a[r].call(c.exports,c,c.exports,h),c.loaded=!0,c.exports}var l={};return h.m=a,h.c=l,h.p="",h(0)}([function(a,h,l){function r(y){return y&&y.__esModule?y:{default:y}}function c(y,d){var b={};for(var w in y)d.indexOf(w)>=0||Object.prototype.hasOwnProperty.call(y,w)&&(b[w]=y[w]);return b}function f(y,d){if(!(y instanceof d))throw new TypeError("Cannot call a class as a function")}function v(y,d){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?y:d}function g(y,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);y.prototype=Object.create(d&&d.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(y,d):y.__proto__=d)}Object.defineProperty(h,"__esModule",{value:!0});var x=Object.assign||function(y){for(var d=1;d<arguments.length;d++){var b=arguments[d];for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(y[w]=b[w])}return y},m=function(){function y(d,b){for(var w=0;w<b.length;w++){var u=b[w];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(d,u.key,u)}}return function(d,b,w){return b&&y(d.prototype,b),w&&y(d,w),d}}(),P=l(1),p=r(P),D=l(2),C=r(D),M=l(3),R=r(M),V=l(4),H=r(V),S=function(y){function d(){var b,w,u,A;f(this,d);for(var j=arguments.length,B=Array(j),W=0;W<j;W++)B[W]=arguments[W];return w=u=v(this,(b=d.__proto__||Object.getPrototypeOf(d)).call.apply(b,[this].concat(B))),u._sigPad=null,u._excludeOurProps=function(){var E=u.props,O=(E.canvasProps,E.clearOnResize,c(E,["canvasProps","clearOnResize"]));return O},u.getCanvas=function(){return u._canvas},u.getTrimmedCanvas=function(){var E=document.createElement("canvas");return E.width=u._canvas.width,E.height=u._canvas.height,E.getContext("2d").drawImage(u._canvas,0,0),(0,H.default)(E)},u.getSignaturePad=function(){return u._sigPad},u._checkClearOnResize=function(){u.props.clearOnResize&&u._resizeCanvas()},u._resizeCanvas=function(){var E=u.props.canvasProps||{},O=E.width,F=E.height;if(!O||!F){var k=u._canvas,L=Math.max(window.devicePixelRatio||1,1);O||(k.width=k.offsetWidth*L),F||(k.height=k.offsetHeight*L),k.getContext("2d").scale(L,L),u.clear()}},u.on=function(){return window.addEventListener("resize",u._checkClearOnResize),u._sigPad.on()},u.off=function(){return window.removeEventListener("resize",u._checkClearOnResize),u._sigPad.off()},u.clear=function(){return u._sigPad.clear()},u.isEmpty=function(){return u._sigPad.isEmpty()},u.fromDataURL=function(E,O){return u._sigPad.fromDataURL(E,O)},u.toDataURL=function(E,O){return u._sigPad.toDataURL(E,O)},u.fromData=function(E){return u._sigPad.fromData(E)},u.toData=function(){return u._sigPad.toData()},A=w,v(u,A)}return g(d,y),m(d,[{key:"componentDidMount",value:function(){this._sigPad=new R.default(this._canvas,this._excludeOurProps()),this._resizeCanvas(),this.on()}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"componentDidUpdate",value:function(){Object.assign(this._sigPad,this._excludeOurProps())}},{key:"render",value:function(){var b=this,w=this.props.canvasProps;return C.default.createElement("canvas",x({ref:function(u){b._canvas=u}},w))}}]),d}(D.Component);S.propTypes={velocityFilterWeight:p.default.number,minWidth:p.default.number,maxWidth:p.default.number,minDistance:p.default.number,dotSize:p.default.oneOfType([p.default.number,p.default.func]),penColor:p.default.string,throttle:p.default.number,onEnd:p.default.func,onBegin:p.default.func,canvasProps:p.default.object,clearOnResize:p.default.bool},S.defaultProps={clearOnResize:!0},h.default=S},function(a,h){a.exports=n},function(a,h){a.exports=e},function(a,h){a.exports=i},function(a,h){a.exports=s}])})})(z);const et=K(z.exports),ot=X({__proto__:null,default:et},[z.exports]);export{ot as i};
